#include <bits/stdc++.h>
using namespace std;

int main() {
	// your code goes here
	int t;
	cin>>t;
	while(t>0){
	    int n;
	    cin>>n;
	    
	    vector< long long int>v(n);
	      vector< long long int>ans;
	    for(int i=0;i<n;i++){
	        cin>>v[i];
	    }
	       long long int sum=0;
	         long long int nsum=0;
	  
	   long long int m=v[0];
	   for(int i=0;i<n;i++){
	        nsum=sum+2*v[i];
	     
	      ans.emplace_back(nsum);
	      sum=sum+v[i];
	   }

	   int anss=*max_element(ans.begin(),ans.end());
	   cout<<anss<<endl;
	    
	    t--;
	    
	}

}